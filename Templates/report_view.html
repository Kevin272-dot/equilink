<!DOCTYPE html>
<html lang="{{ report.language }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EquiLink - Report Details</title>
    <!-- Include Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: '#e3f2fd',
                100: '#bbdefb',
                200: '#90caf9',
                300: '#64b5f6',
                400: '#42a5f5',
                500: '#3498db',
                600: '#2980b9',
                700: '#1e88e5',
                800: '#1565c0',
                900: '#0d47a1',
              },
              dark: "#2c3e50",
              light: "#ecf0f1",
              success: {
                50: '#e8f5e9',
                100: '#c8e6c9',
                200: '#a5d6a7',
                300: '#81c784',
                400: '#66bb6a',
                500: '#2ecc71',
                600: '#27ae60',
                700: '#388e3c',
                800: '#2e7d32',
                900: '#1b5e20',
              },
              warning: {
                50: '#fff8e1',
                100: '#ffecb3',
                200: '#ffe082',
                300: '#ffd54f',
                400: '#ffca28',
                500: '#f39c12',
                600: '#ffa000',
                700: '#ff8f00',
                800: '#ff6f00',
                900: '#ff5722',
              },
              danger: {
                50: '#fdecea',
                100: '#f8c9c5',
                200: '#f3a59e',
                300: '#ed8276',
                400: '#e8584a',
                500: '#e74c3c',
                600: '#d32f2f',
                700: '#c0392b',
                800: '#b71c1c',
                900: '#7f0000',
              },
            boxShadow: {
              'custom': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
              'custom-lg': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out forwards',
              'slide-up': 'slideUp 0.5s ease-out forwards',
              'bounce-slow': 'bounce 3s infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              },
            }
          },
        },
      };
    </script>
    <style>
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb {
        background: #3498db;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #2980b9;
      }

      /* Staggered animation for items */
      .stagger-item {
        opacity: 0;
        transform: translateY(10px);
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-gray-50 to-gray-200 text-gray-800 min-h-screen py-8 px-4"
  >
    <div class="max-w-3xl mx-auto">
      <header class="mb-8 animate-fade-in">
        <h1
          class="text-4xl font-bold text-center text-dark mb-2 flex items-center justify-center"
        >
          <i class="fas fa-file-alt text-primary-500 mr-3"></i>
          Report Details
        </h1>
        <p class="text-center text-gray-500 italic">
          Reviewing submitted incident report
        </p>
      </header>

      <div
        class="bg-white rounded-lg shadow-custom p-6 mb-8 transition-all duration-300 hover:shadow-custom-lg"
      >
        <!-- Status Banner -->
        <div class="mb-6 stagger-item" style="animation-delay: 100ms">
          {% if report.status == 'pending' %}
          <div
            class="bg-warning-50 border-l-4 border-warning-500 p-4 rounded-r-md flex items-center"
          >
            <i class="fas fa-clock text-warning-500 text-xl mr-3"></i>
            <div>
              <h3 class="font-semibold text-warning-700">Pending Review</h3>
              <p class="text-warning-600 text-sm">
                This report is awaiting administrator review
              </p>
            </div>
          </div>
          {% elif report.status == 'approved' %}
          <div
            class="bg-success-50 border-l-4 border-success-500 p-4 rounded-r-md flex items-center"
          >
            <i class="fas fa-check-circle text-success-500 text-xl mr-3"></i>
            <div>
              <h3 class="font-semibold text-success-700">Approved</h3>
              <p class="text-success-600 text-sm">
                This report has been reviewed and approved
              </p>
            </div>
          </div>
          {% else %}
          <div
            class="bg-danger-50 border-l-4 border-danger-500 p-4 rounded-r-md flex items-center"
          >
            <i class="fas fa-times-circle text-danger-500 text-xl mr-3"></i>
            <div>
              <h3 class="font-semibold text-danger-700">Rejected</h3>
              <p class="text-danger-600 text-sm">
                This report has been reviewed and rejected
              </p>
            </div>
          </div>
          {% endif %}
        </div>

        <!-- Report metadata card -->
        <div
          class="bg-gray-50 rounded-lg p-5 mb-6 shadow-sm stagger-item"
          style="animation-delay: 200ms"
        >
          <h2
            class="text-lg font-semibold text-primary-700 mb-4 flex items-center"
          >
            <i class="fas fa-info-circle mr-2"></i> Report Information
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-6">
            <div class="flex items-start">
              <div
                class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-3 flex-shrink-0"
              >
                <i class="fas fa-hashtag text-primary-600"></i>
              </div>
              <div>
                <span class="text-gray-500 text-sm">Report ID</span>
                <p class="font-mono text-sm">{{ report.id }}</p>
              </div>
            </div>

            <div class="flex items-start">
              <div
                class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-3 flex-shrink-0"
              >
                <i class="fas fa-tag text-primary-600"></i>
              </div>
              <div>
                <span class="text-gray-500 text-sm">Type</span>
                <p>{{ report.type }}</p>
              </div>
            </div>

            <div class="flex items-start">
              <div
                class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-3 flex-shrink-0"
              >
                <i class="fas fa-language text-primary-600"></i>
              </div>
              <div>
                <span class="text-gray-500 text-sm">Language</span>
                <p>{{ report.language }}</p>
              </div>
            </div>

            <div class="flex items-start">
              <div
                class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-3 flex-shrink-0"
              >
                <i class="fas fa-calendar-alt text-primary-600"></i>
              </div>
              <div>
                <span class="text-gray-500 text-sm">Submitted</span>
                <p>{{ report.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</p>
              </div>
            </div>

            {% if report.location %}
            <div class="flex items-start md:col-span-2">
              <div
                class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-3 flex-shrink-0"
              >
                <i class="fas fa-map-marker-alt text-primary-600"></i>
              </div>
              <div>
                <span class="text-gray-500 text-sm">Location</span>
                <p>{{ report.location }}</p>
              </div>
            </div>
            {% endif %}
          </div>
        </div>

        <!-- Description section -->
        <div class="mb-6 stagger-item" style="animation-delay: 300ms">
          <h2
            class="text-lg font-semibold text-primary-700 mb-4 flex items-center"
          >
            <i class="fas fa-align-left mr-2"></i> Description
          </h2>
          <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
            <p class="whitespace-pre-line">{{ report.description }}</p>
          </div>
        </div>

        <!-- Notes section if available -->
        {% if report.notes %}
        <div class="mb-6 stagger-item" style="animation-delay: 400ms">
          <h2
            class="text-lg font-semibold text-primary-700 mb-4 flex items-center"
          >
            <i class="fas fa-sticky-note mr-2"></i> Administrative Notes
          </h2>
          <div class="bg-blue-50 p-5 rounded-lg border border-blue-200">
            <p class="whitespace-pre-line">{{ report.notes }}</p>
          </div>
        </div>
        {% endif %}

        <!-- Actions -->
        <div
          class="flex justify-center mt-8 stagger-item"
          style="animation-delay: 500ms"
        >
          <a
            href="{{ url_for('reports.get_all_reports') }}"
            class="bg-primary-500 hover:bg-primary-600 text-white py-3 px-8 rounded-md font-medium text-center transition-colors duration-200 shadow-md hover:shadow-lg flex items-center"
          >
            <i class="fas fa-arrow-left mr-2"></i>
            Back to Reports
          </a>

          {% if report.status == 'pending' %}
          <a
            href="{{ url_for('reports.finalize_report', report_id=report.id) }}"
            class="bg-dark hover:bg-dark/80 text-white py-3 px-8 rounded-md font-medium text-center transition-colors duration-200 shadow-md hover:shadow-lg ml-4 flex items-center"
          >
            <i class="fas fa-edit mr-2"></i>
            Review Report
          </a>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Add animation -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Animate staggered items
        const staggerItems = document.querySelectorAll(".stagger-item");
        staggerItems.forEach((item, index) => {
          setTimeout(() => {
            item.style.animation =
              "fadeIn 0.5s ease forwards, slideUp 0.5s ease forwards";
          }, 100 + index * 100); // 100ms base delay + 100ms per item
        });

        // Add hover effects to cards
        const cards = document.querySelectorAll(".bg-gray-50, .bg-blue-50");
        cards.forEach((card) => {
          card.classList.add("transition-all", "duration-300");
          card.addEventListener("mouseenter", () => {
            card.classList.add("shadow-md");
            card.classList.add("scale-[1.01]");
          });
          card.addEventListener("mouseleave", () => {
            card.classList.remove("shadow-md");
            card.classList.remove("scale-[1.01]");
          });
        });
      });
    </script>
  </body>
</html>
