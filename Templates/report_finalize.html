<!DOCTYPE html>
<html lang="{{ report.language }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EquiLink - Report Finalization</title>
    <!-- Include Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: '#e3f2fd',
                100: '#bbdefb',
                200: '#90caf9',
                300: '#64b5f6',
                400: '#42a5f5',
                500: '#3498db',
                600: '#2980b9',
                700: '#1e88e5',
                800: '#1565c0',
                900: '#0d47a1',
              },
              danger: {
                50: '#fdecea',
                100: '#f8c9c5',
                200: '#f3a59e',
                300: '#ed8276',
                400: '#e8584a',
                500: '#e74c3c',
                600: '#d32f2f',
                700: '#c0392b',
                800: '#b71c1c',
                900: '#7f0000',
              },
              success: {
                50: '#e8f5e9',
                100: '#c8e6c9',
                200: '#a5d6a7',
                300: '#81c784',
                400: '#66bb6a',
                500: '#2ecc71',
                600: '#27ae60',
                700: '#388e3c',
                800: '#2e7d32',
                900: '#1b5e20',
              },
              warning: {
                50: '#fff8e1',
                100: '#ffecb3',
                200: '#ffe082',
                300: '#ffd54f',
                400: '#ffca28',
                500: '#f39c12',
                600: '#ffa000',
                700: '#ff8f00',
                800: '#ff6f00',
                900: '#ff5722',
              },
            },
            fontFamily: {
              sans: ['Inter', 'system-ui', 'sans-serif'],
            },
            boxShadow: {
              'custom': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
              'custom-lg': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out forwards',
              'slide-up': 'slideUp 0.5s ease-out forwards',
              'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              },
            }
          },
        },
      };
    </script>
    <style>
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb {
        background: #3498db;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #2980b9;
      }
      
      /* Staggered animation for items */
      .stagger-item {
        opacity: 0;
        transform: translateY(10px);
      }
    </style>
  </head>
  <body class="bg-gray-100 text-gray-800 min-h-screen py-8 px-4">
    <div class="max-w-2xl mx-auto">
      <h1 class="text-3xl font-bold text-center text-dark mb-8">
        Report Finalization
      </h1>

      <div
        class="bg-white rounded-lg shadow-md p-6 mb-8 transition-all duration-300 hover:shadow-lg"
      >
        <div class="grid grid-cols-1 md:grid-cols-2 gap-y-4 mb-6">
          <div>
            <span class="text-dark font-semibold block mb-1">Report ID</span>
            <span class="font-mono text-sm">{{ report.id }}</span>
          </div>

          <div>
            <span class="text-dark font-semibold block mb-1">Status</span>
            <span
              class="inline-block px-3 py-1 rounded-full text-xs font-medium bg-warning text-white"
            >
              {{ report.status }}
            </span>
          </div>

          <div>
            <span class="text-dark font-semibold block mb-1">Type</span>
            <span>{{ report.type }}</span>
          </div>

          <div>
            <span class="text-dark font-semibold block mb-1">Language</span>
            <span>{{ report.language }}</span>
          </div>

          <div>
            <span class="text-dark font-semibold block mb-1">Submitted</span>
            <span>{{ report.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</span>
          </div>

          {% if report.location %}
          <div>
            <span class="text-dark font-semibold block mb-1">Location</span>
            <span>{{ report.location }}</span>
          </div>
          {% endif %}
        </div>

        <div class="mb-6">
          <span class="text-dark font-semibold block mb-2">Description</span>
          <p class="bg-gray-50 p-4 rounded-md">{{ report.description }}</p>
        </div>

        <form
          action="{{ url_for('reports.finalize_report', report_id=report.id) }}"
          method="post"
          class="animate-fadeIn"
        >
          <div class="mb-6">
            <label for="notes" class="text-dark font-semibold block mb-2"
              >Additional Notes</label
            >
            <textarea
              name="notes"
              id="notes"
              rows="4"
              class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
              placeholder="Add any additional notes about this report..."
            ></textarea>
          </div>

          <div
            class="flex flex-col sm:flex-row justify-center items-center gap-3"
          >
            <button
              type="submit"
              name="action"
              value="approve"
              class="w-full sm:w-auto bg-success hover:bg-success/80 text-white py-2 px-6 rounded-md font-medium transition-colors duration-200"
            >
              Approve
            </button>
            <button
              type="submit"
              name="action"
              value="reject"
              class="w-full sm:w-auto bg-danger hover:bg-danger/80 text-white py-2 px-6 rounded-md font-medium transition-colors duration-200"
            >
              Reject
            </button>
            <a
              href="{{ url_for('reports.get_all_reports') }}"
              class="w-full sm:w-auto bg-primary hover:bg-primary/80 text-white py-2 px-6 rounded-md font-medium text-center transition-colors duration-200"
            >
              Back to Reports
            </a>
          </div>
        </form>
      </div>
    </div>

    <!-- Add animation -->
    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fadeIn {
        animation: fadeIn 0.5s ease-out forwards;
      }
    </style>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const container = document.querySelector(".bg-white");
        container.style.opacity = "0";
        container.style.transform = "translateY(20px)";

        setTimeout(() => {
          container.style.transition = "opacity 0.5s ease, transform 0.5s ease";
          container.style.opacity = "1";
          container.style.transform = "translateY(0)";
        }, 100);
      });
    </script>
  </body>
</html>
